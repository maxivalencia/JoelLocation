{% extends 'base.html.twig' %}

{% block title %}Login
{% endblock %}
{% block stylesheets %}
	{# <link rel="stylesheet" href="css/material/material-kit.css?v=2.0.7"> #}
	<link rel="stylesheet" href="css/login.css">
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row login_form">
			<div class="col-lg-4 col-md-6 ml-auto mr-auto">

				<div class="section-title">
					<h2 class="text-center title mt-5 mb-5">Connexion</h2>
				</div>

				<form method="post">
					{% if error %}
						<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
					{% endif %}

					{% if app.user %}
						<div class="mb-3">
							Vous êtes connecté en tant que :
							{{ app.user.mail }},
							<a href="{{ path('app_logout') }}">Logout</a>
						</div>
					{% endif %}

					<div class="form-group">
						<label for="inputUsername" class="bmd-label-floating">Votre email</label>
						<input type="email" value="{{ last_username }}" name="email" id="inputUsername" class="form-control" required autofocus>
					</div>

					<div class="form-group">
						<label for="inputPassword" class="bmd-label-floating">Votre mot de passe</label>
						<input type="password" name="password" id="inputPassword" class="form-control" required>
					</div>
					<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
					<div class="text-center">
						<button class="button " type="submit">
							Connecter
						</button>
					</div>

				</form>
				<div class="mt-2">
					<p class="m-0 p-0">Vous n'avez pas encore de compte ?
						<a href="{{ path('inscription') }}" class="btn btn-link">S'inscrire</a>
					</p>
					<p class="">
						Mot de passe oublié ?
						<a href="{{ path('reset_password') }}" class="btn btn-link">
							Reinitialiser le mot de passe</a>
					</p>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	<script src="js/custom/material/bootstrap-material-design.min.js" type="text/javascript"></script>
	<script src="js/custom/material/material-kit.js?v=2.0.7" type="text/javascript"></script>
{% endblock %}
